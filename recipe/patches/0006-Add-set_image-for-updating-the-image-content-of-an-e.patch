From 8e973abffdeb7149e25e15019ea9ea20f12a30bd Mon Sep 17 00:00:00 2001
From: Dave Johansen <davejohansen@gmail.com>
Date: Mon, 21 Jul 2025 18:25:09 -0600
Subject: [PATCH 06/13] Add set_image for updating the image content of an
 existing frame

---
 av/video/frame.py | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

diff --git a/av/video/frame.py b/av/video/frame.py
index 970ecc4..0d60fd8 100644
--- a/av/video/frame.py
+++ b/av/video/frame.py
@@ -610,16 +610,22 @@ class VideoFrame(Frame):
             f"Conversion to numpy array with format `{frame.format.name}` is not yet supported"
         )
 
-    @staticmethod
-    def from_image(img):
+    def set_image(self, img):
         """
-        Construct a frame from a ``PIL.Image``.
+        Update content from a ``PIL.Image``.
         """
         if img.mode != "RGB":
             img = img.convert("RGB")
 
+        copy_array_to_plane(img, self.planes[0], 3)
+
+    @staticmethod
+    def from_image(img):
+        """
+        Construct a frame from a ``PIL.Image``.
+        """
         frame: VideoFrame = VideoFrame(img.size[0], img.size[1], "rgb24")
-        copy_array_to_plane(img, frame.planes[0], 3)
+        frame.set_image(img)
 
         return frame
 
-- 
2.49.0

